# –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js


---

## 1. –ú–æ–¥—É–ª—å `fs` (File System)

### –¢–µ–æ—Ä–∏—è

–ú–æ–¥—É–ª—å `fs` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –ü–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å, –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è:**

```javascript
const fs = require('fs');
const fsPromises = require('fs').promises; // –ø—Ä–æ–º–∏—Å—ã
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### 1.1 –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ)

```javascript
// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
const data = fs.readFileSync('file.txt', 'utf8');

// –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
fs.writeFileSync('output.txt', '–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!');
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã!

#### 1.2 –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–ª–±—ç–∫–∞–º–∏

```javascript
// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
fs.readFile('file.txt', 'utf8', (err, data) => {
  if (err) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è:', err);
    return;
  }
  console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', data);
});

// –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
fs.writeFile('output.txt', '–î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏', (err) => {
  if (err) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏:', err);
    return;
  }
  console.log('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω');
});
```

#### 1.3 –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–º–∏—Å–∞–º–∏

```javascript
// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–º–∏—Å–∞–º–∏
fsPromises.readFile('file.txt', 'utf8')
  .then(data => console.log(data))
  .catch(err => console.error(err));

// –° async/await (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥)
async function readFileAsync() {
  try {
    const data = await fsPromises.readFile('file.txt', 'utf8');
    console.log(data);
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞:', err);
  }
}
```

#### 1.4 –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
fs.mkdirSync('newFolder');

// –ß—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
const files = fs.readdirSync('.');
console.log('–§–∞–π–ª—ã:', files);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
if (fs.existsSync('file.txt')) {
  console.log('–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
}

// –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
fs.unlinkSync('file.txt');

// –£–¥–∞–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
fs.rmdirSync('newFolder');
```

#### 1.5 –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–∞—Ö

```javascript
const stats = fs.statSync('file.txt');
console.log('–†–∞–∑–º–µ—Ä:', stats.size);
console.log('–≠—Ç–æ —Ñ–∞–π–ª?', stats.isFile());
console.log('–≠—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è?', stats.isDirectory());
console.log('–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è:', stats.birthtime);
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä 1: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª**

```javascript
const fs = require('fs');

function log(message) {
  const timestamp = new Date().toISOString();
  const logMessage = `[${timestamp}] ${message}\n`;
  
  fs.appendFile('app.log', logMessage, (err) => {
    if (err) console.error('–û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
  });
}

log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ');
log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É');
```

**–ü—Ä–∏–º–µ—Ä 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞**

```javascript
const fs = require('fs').promises;

async function copyFile(source, destination) {
  try {
    const data = await fs.readFile(source);
    await fs.writeFile(destination, data);
    console.log('–§–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ');
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
  }
}

copyFile('source.txt', 'destination.txt');
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è 

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è:

- –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `greeting.txt` —Å —Ç–µ–∫—Å—Ç–æ–º "–ü—Ä–∏–≤–µ—Ç, Node.js!"
- –ß–∏—Ç–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å
- –î–æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è

**–ó–∞–¥–∞–Ω–∏–µ 2 (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å):** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `fileManager`, –∫–æ—Ç–æ—Ä–∞—è:

- –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `data`
- –°–æ–∑–¥–∞–µ—Ç –≤ –Ω–µ–π 3 —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–∞–º–∏ `file1.txt`, `file2.txt`, `file3.txt`
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –µ–≥–æ –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä
- –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

**–ó–∞–¥–∞–Ω–∏–µ 3 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤
- –°–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ

---

## 2. –ú–æ–¥—É–ª—å `events` (Event Emitter)

### –¢–µ–æ—Ä–∏—è

–ú–æ–¥—É–ª—å `events` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å" (Observer). –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

```javascript
const EventEmitter = require('events');
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EventEmitter

```javascript
const EventEmitter = require('events');

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
const emitter = new EventEmitter();

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
emitter.on('greeting', (name) => {
  console.log(`–ü—Ä–∏–≤–µ—Ç, ${name}!`);
});

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è
emitter.emit('greeting', 'Ayaz');
```

#### 2.2 –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```javascript
// on() - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ (–º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ)
emitter.on('event', () => console.log('–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ'));

// once() - –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ (—Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑)
emitter.once('onetime', () => console.log('–°—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑'));

// removeListener() - —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–ª—É—à–∞—Ç–µ–ª—è
const handler = () => console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫');
emitter.on('test', handler);
emitter.removeListener('test', handler);

// removeAllListeners() - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–ª—É—à–∞—Ç–µ–ª–µ–π
emitter.removeAllListeners('event');

// listenerCount() - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–π
console.log(emitter.listenerCount('event'));
```

#### 2.3 –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è

```javascript
emitter.on('data', (data) => {
  console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', data);
});

emitter.emit('data', { id: 1, name: 'Test' });
```

#### 2.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
// –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ 'error'
emitter.on('error', (err) => {
  console.error('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:', err);
});

emitter.emit('error', new Error('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫'));
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**

```javascript
const EventEmitter = require('events');

class Logger extends EventEmitter {
  log(message) {
    console.log(message);
    this.emit('logged', { message, timestamp: Date.now() });
  }
}

const logger = new Logger();

logger.on('logged', (data) => {
  console.log(`–ó–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–æ –≤ ${new Date(data.timestamp)}: ${data.message}`);
});

logger.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ');
```

**–ü—Ä–∏–º–µ—Ä 2: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**

```javascript
const EventEmitter = require('events');

class NotificationService extends EventEmitter {
  sendNotification(user, message) {
    console.log(`–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è ${user}`);
    this.emit('notificationSent', { user, message, time: Date.now() });
  }
}

const notifications = new NotificationService();

// –ü–æ–¥–ø–∏—Å—á–∏–∫–∏
notifications.on('notificationSent', (data) => {
  console.log(`[Email] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${data.user}: ${data.message}`);
});

notifications.on('notificationSent', (data) => {
  console.log(`[SMS] –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${data.user}: ${data.message}`);
});

notifications.sendNotification('–ò–≤–∞–Ω', '–£ –≤–∞—Å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
```

**–ü—Ä–∏–º–µ—Ä 3: –¢–∞–π–º–µ—Ä —Å —Å–æ–±—ã—Ç–∏—è–º–∏**

```javascript
const EventEmitter = require('events');

class Timer extends EventEmitter {
  constructor(duration) {
    super();
    this.duration = duration;
    this.elapsed = 0;
  }

  start() {
    this.emit('start');
    const interval = setInterval(() => {
      this.elapsed += 1;
      this.emit('tick', this.elapsed);

      if (this.elapsed >= this.duration) {
        clearInterval(interval);
        this.emit('end');
      }
    }, 1000);
  }
}

const timer = new Timer(5);

timer.on('start', () => console.log('–¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω'));
timer.on('tick', (seconds) => console.log(`–ü—Ä–æ—à–ª–æ —Å–µ–∫—É–Ω–¥: ${seconds}`));
timer.on('end', () => console.log('–¢–∞–π–º–µ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω'));

timer.start();
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `EventBus`, –∫–æ—Ç–æ—Ä—ã–π:

- –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç EventEmitter
- –ò–º–µ–µ—Ç –º–µ—Ç–æ–¥ `publish(channel, message)` –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª 'news' –∏ –≤—ã–≤–æ–¥–∏—Ç–µ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å

**–ó–∞–¥–∞–Ω–∏–µ 2 (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏:

- –ö–ª–∞—Å—Å `OrderManager` —Å –º–µ—Ç–æ–¥–∞–º–∏ `createOrder()`, `completeOrder()`, `cancelOrder()`
- –ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ
- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—Ä—É—é—Ç –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å –∑–∞–∫–∞–∑–æ–º

**–ó–∞–¥–∞–Ω–∏–µ 3 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å):** –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–∞—Ç-—Å–∏—Å—Ç–µ–º—É:

- –ö–ª–∞—Å—Å `ChatRoom` —Å –º–µ—Ç–æ–¥–∞–º–∏ `join()`, `leave()`, `sendMessage()`
- –°–æ–±—ã—Ç–∏—è: 'userJoined', 'userLeft', 'message'
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–æ–º–Ω–∞—Ç–µ
- –•—Ä–∞–Ω–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π

---

## 3. –ú–æ–¥—É–ª—å `path`

### –¢–µ–æ—Ä–∏—è

–ú–æ–¥—É–ª—å `path` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏ –∫ —Ñ–∞–π–ª–∞–º –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º. –†–∞–±–æ—Ç–∞–µ—Ç –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ (Windows, Linux, macOS).

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

```javascript
const path = require('path');
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### 3.1 –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π

```javascript
// path.join() - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã –ø—É—Ç–∏
const fullPath = path.join('folder', 'subfolder', 'file.txt');
console.log(fullPath); // folder/subfolder/file.txt (–∏–ª–∏ folder\subfolder\file.txt –≤ Windows)

// path.resolve() - —Å–æ–∑–¥–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
const absolutePath = path.resolve('folder', 'file.txt');
console.log(absolutePath); // /home/user/folder/file.txt (–ø–æ–ª–Ω—ã–π –ø—É—Ç—å)
```

#### 3.2 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∞—Å—Ç–µ–π –ø—É—Ç–∏

```javascript
const filePath = '/home/user/documents/report.pdf';

// –ë–∞–∑–æ–≤–æ–µ –∏–º—è (–∏–º—è —Ñ–∞–π–ª–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º)
console.log(path.basename(filePath)); // report.pdf

// –ò–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
console.log(path.basename(filePath, '.pdf')); // report

// –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
console.log(path.dirname(filePath)); // /home/user/documents

// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
console.log(path.extname(filePath)); // .pdf
```

#### 3.3 –ü–∞—Ä—Å–∏–Ω–≥ –ø—É—Ç–∏

```javascript
const parsed = path.parse('/home/user/file.txt');
console.log(parsed);
/* {
  root: '/',
  dir: '/home/user',
  base: 'file.txt',
  ext: '.txt',
  name: 'file'
} */

// –û–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
const formatted = path.format({
  dir: '/home/user',
  base: 'file.txt'
});
console.log(formatted); // /home/user/file.txt
```

#### 3.4 –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏

```javascript
// –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø—É—Ç–∏
const normalized = path.normalize('/home/user/../documents/./file.txt');
console.log(normalized); // /home/documents/file.txt
```

#### 3.5 –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏

```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –ø—É—Ç—è–º–∏
const relative = path.relative('/home/user/documents', '/home/user/pictures');
console.log(relative); // ../pictures
```

#### 3.6 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø—É—Ç–∏

```javascript
// –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å?
console.log(path.isAbsolute('/home/user')); // true
console.log(path.isAbsolute('user/file.txt')); // false
```

#### 3.7 –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø—É—Ç–µ–π

```javascript
// –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è —Ç–µ–∫—É—â–µ–π –û–°
console.log(path.sep); // '/' –≤ Unix, '\' –≤ Windows

// –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è PATH –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
console.log(path.delimiter); // ':' –≤ Unix, ';' –≤ Windows
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä 1: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞**

```javascript
const path = require('path');

// __dirname - —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–∫—Ä–∏–ø—Ç–∞
const configPath = path.join(__dirname, 'config', 'settings.json');
const logsPath = path.join(__dirname, '..', 'logs', 'app.log');

console.log('Config:', configPath);
console.log('Logs:', logsPath);
```

**–ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**

```javascript
const path = require('path');

function processUploadedFile(filename) {
  const ext = path.extname(filename);
  const name = path.basename(filename, ext);
  const timestamp = Date.now();
  
  const newFilename = `${name}_${timestamp}${ext}`;
  const savePath = path.join(__dirname, 'uploads', newFilename);
  
  return {
    original: filename,
    saved: newFilename,
    path: savePath,
    extension: ext
  };
}

console.log(processUploadedFile('photo.jpg'));
```

**–ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞**

```javascript
const path = require('path');
const fs = require('fs');

function findFilesByExtension(directory, extension) {
  const files = fs.readdirSync(directory);
  
  return files.filter(file => {
    return path.extname(file) === extension;
  }).map(file => {
    return path.join(directory, file);
  });
}

const jsFiles = findFilesByExtension('.', '.js');
console.log('JavaScript —Ñ–∞–π–ª—ã:', jsFiles);
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è 

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å):** –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `getFileInfo(filepath)`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:

- –ò–º—è —Ñ–∞–π–ª–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—É—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º

**–ó–∞–¥–∞–Ω–∏–µ 2 (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `organizeFiles(sourceDir)`, –∫–æ—Ç–æ—Ä–∞—è:

- –ß–∏—Ç–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∏—Ö –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º
- –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ñ–∞–π–ª–æ–≤ (images, documents, videos)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ñ–∞–π–ª–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

**–ó–∞–¥–∞–Ω–∏–µ 3 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å):** –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏:

- –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `ProjectPaths` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É—Ç–µ–π –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞ (src, dist, config, logs)
- –ú–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ú–µ—Ç–æ–¥ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø—É—Ç–µ–π

---

## 4. –ú–æ–¥—É–ª—å `http`

### –¢–µ–æ—Ä–∏—è

–ú–æ–¥—É–ª—å `http` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å HTTP-—Å–µ—Ä–≤–µ—Ä—ã –∏ –∫–ª–∏–µ–Ω—Ç—ã. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Node.js.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

```javascript
const http = require('http');
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

#### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

```javascript
const http = require('http');

const server = http.createServer((req, res) => {
  // req - –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ (request)
  // res - –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞ (response)
  
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain; charset=utf-8');
  res.end('–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!');
});

const PORT = 3000;
server.listen(PORT, () => {
  console.log(`–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:${PORT}`);
});
```

#### 4.2 –†–∞–±–æ—Ç–∞ —Å –∑–∞–ø—Ä–æ—Å–æ–º (Request)

```javascript
const server = http.createServer((req, res) => {
  // URL –∑–∞–ø—Ä–æ—Å–∞
  console.log('URL:', req.url);
  
  // HTTP –º–µ—Ç–æ–¥
  console.log('–ú–µ—Ç–æ–¥:', req.method);
  
  // –ó–∞–≥–æ–ª–æ–≤–∫–∏
  console.log('–ó–∞–≥–æ–ª–æ–≤–∫–∏:', req.headers);
  
  // –î–ª—è GET –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å URL
  const url = new URL(req.url, `http://${req.headers.host}`);
  console.log('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:', url.searchParams);
  
  res.end('OK');
});
```

#### 4.3 –†–∞–±–æ—Ç–∞ —Å –æ—Ç–≤–µ—Ç–æ–º (Response)

```javascript
const server = http.createServer((req, res) => {
  // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–∞
  res.statusCode = 200;
  
  // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
  res.setHeader('Content-Type', 'application/json');
  res.setHeader('X-Custom-Header', 'MyValue');
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  const data = { message: '–£—Å–ø–µ—Ö', timestamp: Date.now() };
  res.end(JSON.stringify(data));
});
```

#### 4.4 –†–æ—É—Ç–∏–Ω–≥

```javascript
const http = require('http');

const server = http.createServer((req, res) => {
  const url = req.url;
  const method = req.method;

  // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  if (url === '/' && method === 'GET') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/html; charset=utf-8');
    res.end('<h1>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h1>');
  }
  // API endpoint
  else if (url === '/api/users' && method === 'GET') {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'application/json');
    res.end(JSON.stringify([
      { id: 1, name: '–ò–≤–∞–Ω' },
      { id: 2, name: '–ú–∞—Ä–∏—è' }
    ]));
  }
  // 404 - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
  else {
    res.statusCode = 404;
    res.setHeader('Content-Type', 'text/plain; charset=utf-8');
    res.end('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
  }
});

server.listen(3000);
```

#### 4.5 –û–±—Ä–∞–±–æ—Ç–∫–∞ POST –∑–∞–ø—Ä–æ—Å–æ–≤

```javascript
const http = require('http');

const server = http.createServer((req, res) => {
  if (req.method === 'POST' && req.url === '/api/data') {
    let body = '';
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ü–∏—è–º–∏
    req.on('data', chunk => {
      body += chunk.toString();
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
    req.on('end', () => {
      try {
        const data = JSON.parse(body);
        console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', data);
        
        res.statusCode = 201;
        res.setHeader('Content-Type', 'application/json');
        res.end(JSON.stringify({ success: true, received: data }));
      } catch (err) {
        res.statusCode = 400;
        res.end(JSON.stringify({ error: '–ù–µ–≤–µ—Ä–Ω—ã–π JSON' }));
      }
    });
  } else {
    res.statusCode = 404;
    res.end('Not Found');
  }
});

server.listen(3000);
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ REST API**

```javascript
const http = require('http');

// –ò–º–∏—Ç–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
let tasks = [
  { id: 1, title: '–ò–∑—É—á–∏—Ç—å Node.js', completed: false },
  { id: 2, title: '–°–æ–∑–¥–∞—Ç—å API', completed: false }
];

const server = http.createServer((req, res) => {
  const { method, url } = req;

  // CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
  res.setHeader('Access-Control-Allow-Origin', '*');
  res.setHeader('Content-Type', 'application/json');

  // GET /tasks - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏
  if (method === 'GET' && url === '/tasks') {
    res.statusCode = 200;
    res.end(JSON.stringify(tasks));
  }
  // POST /tasks - —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
  else if (method === 'POST' && url === '/tasks') {
    let body = '';
    req.on('data', chunk => body += chunk);
    req.on('end', () => {
      const newTask = JSON.parse(body);
      newTask.id = tasks.length + 1;
      newTask.completed = false;
      tasks.push(newTask);
      
      res.statusCode = 201;
      res.end(JSON.stringify(newTask));
    });
  }
  // DELETE /tasks/:id - —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
  else if (method === 'DELETE' && url.startsWith('/tasks/')) {
    const id = parseInt(url.split('/')[2]);
    tasks = tasks.filter(task => task.id !== id);
    
    res.statusCode = 200;
    res.end(JSON.stringify({ success: true }));
  }
  else {
    res.statusCode = 404;
    res.end(JSON.stringify({ error: 'Not Found' }));
  }
});

server.listen(3000, () => {
  console.log('API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000');
});
```

**–ü—Ä–∏–º–µ—Ä 2: –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤**

```javascript
const http = require('http');
const fs = require('fs');
const path = require('path');

const server = http.createServer((req, res) => {
  // –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
  let filePath = path.join(__dirname, 'public', req.url === '/' ? 'index.html' : req.url);
  
  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MIME —Ç–∏–ø–∞
  const extname = path.extname(filePath);
  const mimeTypes = {
    '.html': 'text/html',
    '.css': 'text/css',
    '.js': 'text/javascript',
    '.json': 'application/json',
    '.png': 'image/png',
    '.jpg': 'image/jpeg'
  };
  const contentType = mimeTypes[extname] || 'application/octet-stream';
  
  // –ß—Ç–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞
  fs.readFile(filePath, (err, content) => {
    if (err) {
      if (err.code === 'ENOENT') {
        res.statusCode = 404;
        res.end('File not found');
      } else {
        res.statusCode = 500;
        res.end('Server error');
      }
    } else {
      res.statusCode = 200;
      res.setHeader('Content-Type', contentType);
      res.end(content);
    }
  });
});

server.listen(3000);
```

**–ü—Ä–∏–º–µ—Ä 3: HTTP –∫–ª–∏–µ–Ω—Ç**

```javascript
const http = require('http');

// GET –∑–∞–ø—Ä–æ—Å
function makeGetRequest(url) {
  http.get(url, (res) => {
    let data = '';
    
    res.on('data', chunk => {
      data += chunk;
    });
    
    res.on('end', () => {
      console.log('–°—Ç–∞—Ç—É—Å:', res.statusCode);
      console.log('–î–∞–Ω–Ω—ã–µ:', data);
    });
  }).on('error', (err) => {
    console.error('–û—à–∏–±–∫–∞:', err);
  });
}

// POST –∑–∞–ø—Ä–æ—Å
function makePostRequest(url, postData) {
  const data = JSON.stringify(postData);
  
  const options = {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Content-Length': data.length
    }
  };
  
  const req = http.request(url, options, (res) => {
    let responseData = '';
    
    res.on('data', chunk => {
      responseData += chunk;
    });
    
    res.on('end', () => {
      console.log('–û—Ç–≤–µ—Ç:', responseData);
    });
  });
  
  req.on('error', (err) => {
    console.error('–û—à–∏–±–∫–∞:', err);
  });
  
  req.write(data);
  req.end();
}
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è 

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ HTTP —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π:

- –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (/) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /about –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é "–û —Å–µ—Ä–≤–µ—Ä–µ"
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /contact –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö URL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404

**–ó–∞–¥–∞–Ω–∏–µ 2 (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å):** –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–Ω–∏–≥:

- GET /books - –≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ (–º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤)
- POST /books - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–Ω–∏–≥—É
- GET /books/:id - –ø–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É –ø–æ ID
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–∞–º—è—Ç–∏ (–º–∞—Å—Å–∏–≤)

**–ó–∞–¥–∞–Ω–∏–µ 3 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏:

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (Create, Read, Update, Delete)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (middleware)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–∞–π–ª
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## 5. –ú–æ–¥—É–ª—å `stream`

### –¢–µ–æ—Ä–∏—è

–°—Ç—Ä–∏–º—ã (–ø–æ—Ç–æ–∫–∏) –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —á–∞—Å—Ç—è–º, –Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –≤—Å–µ –≤ –ø–∞–º—è—Ç—å —Å—Ä–∞–∑—É. –≠—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏–ª–∏ –¥–∞–Ω–Ω—ã–º–∏.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

```javascript
const stream = require('stream');
const fs = require('fs');
```

### –¢–∏–ø—ã —Å—Ç—Ä–∏–º–æ–≤

1. **Readable** - –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. **Writable** - –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö
3. **Duplex** - –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
4. **Transform** - –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### 5.1 Readable Stream (–ß—Ç–µ–Ω–∏–µ)

```javascript
const fs = require('fs');

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ —á—Ç–µ–Ω–∏—è
const readStream = fs.createReadStream('large-file.txt', {
  encoding: 'utf8',
  highWaterMark: 16 * 1024 // —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (16KB)
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
readStream.on('data', (chunk) => {
  console.log('–ü–æ–ª—É—á–µ–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç:', chunk.length, '–±–∞–π—Ç');
});

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —á—Ç–µ–Ω–∏—è
readStream.on('end', () => {
  console.log('–ß—Ç–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
readStream.on('error', (err) => {
  console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è:', err);
});
```

#### 5.2 Writable Stream (–ó–∞–ø–∏—Å—å)

```javascript
const fs = require('fs');

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –∑–∞–ø–∏—Å–∏
const writeStream = fs.createWriteStream('output.txt');

// –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö
writeStream.write('–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞\n');
writeStream.write('–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n');
writeStream.write('–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞\n');

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
writeStream.end('–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞\n');

// –°–æ–±—ã—Ç–∏—è
writeStream.on('finish', () => {
  console.log('–ó–∞–ø–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
});

writeStream.on('error', (err) => {
  console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏:', err);
});
```

#### 5.3 Pipe (–ö–æ–Ω–≤–µ–π–µ—Ä)

```javascript
const fs = require('fs');

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ pipe
const readStream = fs.createReadStream('source.txt');
const writeStream = fs.createWriteStream('destination.txt');

readStream.pipe(writeStream);

// –¶–µ–ø–æ—á–∫–∞ pipe
readStream
  .pipe(transformStream1)
  .pipe(transformStream2)
  .pipe(writeStream);
```

#### 5.4 Transform Stream (–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)

```javascript
const { Transform } = require('stream');

// –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞
const upperCaseTransform = new Transform({
  transform(chunk, encoding, callback) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    const transformed = chunk.toString().toUpperCase();
    this.push(transformed);
    callback();
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
readStream
  .pipe(upperCaseTransform)
  .pipe(writeStream);
```

#### 5.5 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Readable Stream

```javascript
const { Readable } = require('stream');

class NumberStream extends Readable {
  constructor(max) {
    super();
    this.current = 1;
    this.max = max;
  }

  _read() {
    if (this.current <= this.max) {
      this.push(`${this.current}\n`);
      this.current++;
    } else {
      this.push(null); // –ö–æ–Ω–µ—Ü –ø–æ—Ç–æ–∫–∞
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const numbers = new NumberStream(10);
numbers.pipe(process.stdout);
```

#### 5.6 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Writable Stream

```javascript
const { Writable } = require('stream');

class LogStream extends Writable {
  _write(chunk, encoding, callback) {
    console.log(`[LOG] ${chunk.toString()}`);
    callback();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logger = new LogStream();
logger.write('–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n');
logger.write('–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n');
logger.end();
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–∏–º–µ—Ä 1: –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–æ–≥–æ CSV —Ñ–∞–π–ª–∞**

```javascript
const fs = require('fs');
const { Transform } = require('stream');

// –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ CSV —Å—Ç—Ä–æ–∫
class CSVProcessor extends Transform {
  constructor() {
    super({ objectMode: true });
    this.lineNumber = 0;
  }

  _transform(chunk, encoding, callback) {
    const lines = chunk.toString().split('\n');
    
    lines.forEach(line => {
      if (line.trim()) {
        this.lineNumber++;
        const columns = line.split(',');
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫–∏
        const processed = {
          line: this.lineNumber,
          data: columns,
          length: columns.length
        };
        
        this.push(JSON.stringify(processed) + '\n');
      }
    });
    
    callback();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const readStream = fs.createReadStream('data.csv');
const processor = new CSVProcessor();
const writeStream = fs.createWriteStream('processed.json');

readStream
  .pipe(processor)
  .pipe(writeStream)
  .on('finish', () => {
    console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
  });
```

**–ü—Ä–∏–º–µ—Ä 2: –°–∂–∞—Ç–∏–µ —Ñ–∞–π–ª–æ–≤**

```javascript
const fs = require('fs');
const zlib = require('zlib');

// –°–∂–∞—Ç–∏–µ —Ñ–∞–π–ª–∞
function compressFile(inputFile, outputFile) {
  const gzip = zlib.createGzip();
  const source = fs.createReadStream(inputFile);
  const destination = fs.createWriteStream(outputFile);

  source
    .pipe(gzip)
    .pipe(destination)
    .on('finish', () => {
      console.log('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–∂–∞—Ç');
    })
    .on('error', (err) => {
      console.error('–û—à–∏–±–∫–∞ —Å–∂–∞—Ç–∏—è:', err);
    });
}

// –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Ñ–∞–π–ª–∞
function decompressFile(inputFile, outputFile) {
  const gunzip = zlib.createGunzip();
  const source = fs.createReadStream(inputFile);
  const destination = fs.createWriteStream(outputFile);

  source
    .pipe(gunzip)
    .pipe(destination)
    .on('finish', () => {
      console.log('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω');
    });
}

compressFile('large-file.txt', 'large-file.txt.gz');
```

**–ü—Ä–∏–º–µ—Ä 3: –°—Ç—Ä–∏–º–∏–Ω–≥ HTTP –æ—Ç–≤–µ—Ç–æ–≤**

```javascript
const http = require('http');
const fs = require('fs');

const server = http.createServer((req, res) => {
  if (req.url === '/video') {
    const videoPath = 'video.mp4';
    const stat = fs.statSync(videoPath);
    
    res.writeHead(200, {
      'Content-Type': 'video/mp4',
      'Content-Length': stat.size
    });
    
    // –°—Ç—Ä–∏–º–∏–Ω–≥ –≤–∏–¥–µ–æ
    const videoStream = fs.createReadStream(videoPath);
    videoStream.pipe(res);
    
  } else if (req.url === '/download') {
    res.writeHead(200, {
      'Content-Type': 'application/octet-stream',
      'Content-Disposition': 'attachment; filename="file.txt"'
    });
    
    const fileStream = fs.createReadStream('file.txt');
    fileStream.pipe(res);
    
  } else {
    res.statusCode = 404;
    res.end('Not Found');
  }
});

server.listen(3000);
```

**–ü—Ä–∏–º–µ—Ä 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∏–º–∞**

```javascript
const fs = require('fs');
const { Transform } = require('stream');

class ProgressMonitor extends Transform {
  constructor() {
    super();
    this.bytesProcessed = 0;
    this.startTime = Date.now();
  }

  _transform(chunk, encoding, callback) {
    this.bytesProcessed += chunk.length;
    
    // –í—ã–≤–æ–¥–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—ã–µ 1MB
    if (this.bytesProcessed % (1024 * 1024) === 0) {
      const elapsed = (Date.now() - this.startTime) / 1000;
      const speed = this.bytesProcessed / elapsed / 1024 / 1024;
      
      console.log(`–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${(this.bytesProcessed / 1024 / 1024).toFixed(2)} MB`);
      console.log(`–°–∫–æ—Ä–æ—Å—Ç—å: ${speed.toFixed(2)} MB/s`);
    }
    
    this.push(chunk);
    callback();
  }

  _flush(callback) {
    const elapsed = (Date.now() - this.startTime) / 1000;
    console.log(`\n–í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${(this.bytesProcessed / 1024 / 1024).toFixed(2)} MB`);
    console.log(`–í—Ä–µ–º—è: ${elapsed.toFixed(2)} —Å–µ–∫—É–Ω–¥`);
    callback();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const monitor = new ProgressMonitor();

fs.createReadStream('large-file.dat')
  .pipe(monitor)
  .pipe(fs.createWriteStream('output.dat'));
```

**–ü—Ä–∏–º–µ—Ä 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**

```javascript
const { Readable, Writable } = require('stream');

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö (—Å–∏–º—É–ª—è—Ü–∏—è —Å–µ–Ω—Å–æ—Ä–∞)
class SensorStream extends Readable {
  constructor(options) {
    super(options);
    this.interval = setInterval(() => {
      const temperature = 20 + Math.random() * 10;
      const humidity = 40 + Math.random() * 20;
      
      const data = {
        timestamp: Date.now(),
        temperature: temperature.toFixed(2),
        humidity: humidity.toFixed(2)
      };
      
      this.push(JSON.stringify(data) + '\n');
    }, 1000);
  }

  _read() {}

  _destroy() {
    clearInterval(this.interval);
  }
}

// –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö
class DataAnalyzer extends Writable {
  constructor(options) {
    super(options);
    this.readings = [];
  }

  _write(chunk, encoding, callback) {
    const data = JSON.parse(chunk.toString());
    this.readings.push(data);
    
    console.log(`üìä –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${data.temperature}¬∞C, –í–ª–∞–∂–Ω–æ—Å—Ç—å: ${data.humidity}%`);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–≤–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    if (data.temperature > 28) {
      console.log('‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞!');
    }
    
    callback();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const sensor = new SensorStream();
const analyzer = new DataAnalyzer();

sensor.pipe(analyzer);

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
setTimeout(() => {
  sensor.destroy();
  console.log('\n–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω');
}, 10000);
```

**–ü—Ä–∏–º–µ—Ä 6: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤**

```javascript
const fs = require('fs');
const { pipeline } = require('stream');

function mergeFiles(fileList, outputFile, callback) {
  const output = fs.createWriteStream(outputFile);
  
  function processNextFile(index) {
    if (index >= fileList.length) {
      output.end();
      callback(null, '–§–∞–π–ª—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã');
      return;
    }
    
    const input = fs.createReadStream(fileList[index]);
    
    input.pipe(output, { end: false });
    
    input.on('end', () => {
      console.log(`–§–∞–π–ª ${fileList[index]} –¥–æ–±–∞–≤–ª–µ–Ω`);
      processNextFile(index + 1);
    });
    
    input.on('error', callback);
  }
  
  processNextFile(0);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
mergeFiles(
  ['part1.txt', 'part2.txt', 'part3.txt'],
  'merged.txt',
  (err, result) => {
    if (err) {
      console.error('–û—à–∏–±–∫–∞:', err);
    } else {
      console.log(result);
    }
  }
);
```

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è 

**–ó–∞–¥–∞–Ω–∏–µ 1 (–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–∏–º–æ–≤:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `createReadStream` –∏ `createWriteStream`
- –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π 'data', 'end', 'error'
- –í—ã–≤–æ–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å

**–ó–∞–¥–∞–Ω–∏–µ 2 (–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å):** –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ Transform stream –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

- –ß–∏—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
- –£–¥–∞–ª—è–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç—Ä–æ–∫–∏-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å #)
- –ù—É–º–µ—Ä—É–µ—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª

**–ó–∞–¥–∞–Ω–∏–µ 3 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å):** –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤:

- Readable stream, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ª–æ–≥-–∑–∞–ø–∏—Å–∏
- Transform stream –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —É—Ä–æ–≤–Ω—é (INFO, WARNING, ERROR)
- Writable stream, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–≥–∏ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã
- –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

**–ó–∞–¥–∞–Ω–∏–µ 4 (–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å):** –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É –¥–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞ —á–∞—Å—Ç–∏:

- –ß–∏—Ç–∞–µ—Ç –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100MB)
- –†–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ —á–∞—Å—Ç–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 10MB)
- –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (part1.dat, part2.dat, ...)
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–∫–∂–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–±–æ—Ä–∫–∏ —Ñ–∞–π–ª–∞ –∏–∑ —á–∞—Å—Ç–µ–π
- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ (–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã)

---

## –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞

### –ó–∞–¥–∞–Ω–∏–µ A: –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª–∏: `fs`, `path`, `events`
- –ö–æ–º–∞–Ω–¥—ã: list, create, delete, copy, move, info
- –°–æ–±—ã—Ç–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ó–∞–¥–∞–Ω–∏–µ B: REST API —Å–µ—Ä–≤–µ—Ä —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ HTTP —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º:

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–µ—Å—É—Ä—Å–∞ "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–∞–π–ª (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ stream)
- –†–æ—É—Ç–∏–Ω–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `path` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ URL
- –°–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–¥–∞–Ω–∏–µ C: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ pipeline –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

- –ß—Ç–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ streams –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–¥–∞–Ω–∏–µ D: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

- HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–µ–º–∞ –º–µ—Ç—Ä–∏–∫
- EventEmitter –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ —Ñ–∞–π–ª—ã –ø–æ –¥–∞—Ç–∞–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ path –∏ fs)
- Stream –¥–ª—è –∑–∞–ø–∏—Å–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ —Ä–∞–±–æ—Ç —É—á–∞—â–∏—Ö—Å—è

### –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å:

- –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–¥—É–ª–µ–π
- –ï—Å—Ç—å –±–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å:

- –ö–æ–¥ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async/await –∏–ª–∏ –ø—Ä–æ–º–∏—Å–æ–≤
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ö–æ–¥ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å:

- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ edge cases
- –ß–∏—Å—Ç—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

1. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Node.js: https://nodejs.org/docs/
2. Node.js Design Patterns (–∫–Ω–∏–≥–∞)
3. Stream Handbook: https://github.com/substack/stream-handbook

### –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å fs:**

- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–∏—Å—ã (fs.promises) –≤–º–µ—Å—Ç–æ –∫–æ–ª–±—ç–∫–æ–≤
- –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å events:**

- –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏–µ 'error'
- –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —É–¥–∞–ª—è—Ç—å —Å–ª—É—à–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ once() –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å path:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ path.join() –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏
- –ù–µ —Å–∫–ª–µ–∏–≤–∞–π—Ç–µ –ø—É—Ç–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å http:**

- –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å stream:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pipe() –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–æ–±—ã—Ç–∏—è 'error'
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

### 1. –ó–∞–±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
fs.readFile('file.txt', 'utf8', (err, data) => {
  console.log(data);
});
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
fs.readFile('file.txt', 'utf8', (err, data) => {
  if (err) {
    console.error('–û—à–∏–±–∫–∞:', err);
    return;
  }
  console.log(data);
});
```

### 2. –ë–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Event Loop

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
const data = fs.readFileSync('huge-file.txt'); // –ë–ª–æ–∫–∏—Ä—É–µ—Ç!
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
fs.readFile('huge-file.txt', (err, data) => {
  // –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç
});
```

### 3. –°–∫–ª–µ–∏–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π —Å—Ç—Ä–æ–∫–∞–º–∏

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
const filePath = __dirname + '/' + 'file.txt';
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
const filePath = path.join(__dirname, 'file.txt');
```

### 4. –ó–∞–±—ã–ª–∏ –∑–∞–∫—Ä—ã—Ç—å —Å—Ç—Ä–∏–º

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
const stream = fs.createWriteStream('file.txt');
stream.write('data');
// –ó–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å end()
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
const stream = fs.createWriteStream('file.txt');
stream.write('data');
stream.end(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∏–º
```

### 5. –ù–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Content-Type

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
res.end(JSON.stringify({ data: 'value' }));
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```javascript
res.setHeader('Content-Type', 'application/json');
res.end(JSON.stringify({ data: 'value' }));
```

---

## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω–æ –∏–∑ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π (A, B, C –∏–ª–∏ D) –∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é. –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 1 –Ω–µ–¥–µ–ª—è.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–¥–∞—á–µ:**

- –†–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥
- README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---
